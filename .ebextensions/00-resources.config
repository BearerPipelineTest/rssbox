# https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/command-options-general.html
# https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-launchconfig.html

Resources:
  AWSEBAutoScalingLaunchConfiguration:
    Type: "AWS::AutoScaling::LaunchConfiguration"
    Properties:
      SpotPrice:
        "Fn::GetOptionSetting":
          Namespace: "aws:elasticbeanstalk:application:environment"
          OptionName: "EC2_SPOT_PRICE"
          DefaultValue: {"Ref":"AWS::NoValue"}
      BlockDeviceMappings:
        - DeviceName: /dev/xvda
          Ebs:
            VolumeType:
              "Fn::GetOptionSetting":
                Namespace: "aws:elasticbeanstalk:application:environment"
                OptionName: "EC2_ROOT_VOLUME_TYPE"
                DefaultValue: "standard"
            VolumeSize:
              "Fn::GetOptionSetting":
                Namespace: "aws:elasticbeanstalk:application:environment"
                OptionName: "EC2_ROOT_VOLUME_SIZE"
                DefaultValue: "8"
